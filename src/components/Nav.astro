---
import Breadcrumbs from "../components/Breadcrumbs.astro";
import { generateBreadcrumbs } from "../utils/generateBreadcrumbs";

const currentPath = Astro.url.pathname;
const pageTitle = Astro.props.title || "Current Page";
const breadcrumbItems = generateBreadcrumbs(currentPath, pageTitle);
---

<nav class="header">
  <div class="nav-content">
    <a href="/" class="logo" id="logo">
      <img src="/logo.svg" alt="Paul Sikorsky logo" />
    </a>
    <Breadcrumbs items={breadcrumbItems} />
  </div>
</nav>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const logo = document.getElementById("logo");

    logo?.addEventListener("click", function (e) {
      if (window.location.pathname === "/") {
        e.preventDefault();

        window.scrollTo({
          top: 0,
          behavior: "smooth"
        });
      }
    });
  });
</script>
